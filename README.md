# ironfish-scripts

Запуск скрипта производится через интерпретатор bash

Можно скопировать всю репу:

git clone https://github.com/wk27/ironfish-scripts.git

--------

Скрипт экспортирует и выводит переменные окружения.

Иногда люди меняют название кошелька/граффити, но не меняют его в конфигах.

Далее следует запрос баланса.

Если он больше, чем минимальная транзакция + комиссия, то:

Делим баланс на это число, получаем количество возможных транзакций без повторного запроса баланса.
Каждое 10 повторение происходит запрос баланса в фоне, но он влияет только на отображение в рантайме, чтобы не делать это в соседней консоли, на количество изначальных повторений он не влияет.
Скрипт доделывает свою работу и повторяет процедуру ещё раз.

Исключения:
1. Если мы видим ошибку "Недостаточно средств", но при этом глобальная итерация не завершилась, то сбрасывается цикл, скрипт ждет 5 минут и начинает цикл заново.
2. 5 таких ошибок и скрипт сделает рескан базы (занимает несколько часов).
Этот функционал доступен при запуске с опцией rescan-allowed
3. Если скрипт видит ошибку подключения к ноде, значит останавливаемся на полчаса и ждем, когда это пройдет.

--------

Стандартный запуск:

bash ${HOME}/ironfish-scripts/deposit.sh

Запуск с разрешенной опцией ресканить базу (для автоматического ironfish accounts:rescan, рекомендуется если вы опытный пользователь):

bash ${HOME}/ironfish-scripts/deposit.sh rescan-allowed

--------

Обновление:

 /usr/bin/git -C ${HOME}/ironfish-scripts pull

--------

Задонатить: 304873a0169554709fdf87c50d738042e684eb42aa944098cf195486ba76879b70e36fd96e4554ba52b91c
